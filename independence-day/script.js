const languageJson = {
	1:{
		wish:'рдЖрдкрдХреЛ рд╢реБрднрдХрд╛рдордирд╛рдПрдВ рджреЗрддреЗ рд╣реИрдВ',
		ind:'74 рд╡реЗрдВ рд╕реНрд╡рддрдВрддреНрд░рддрд╛ рджрд┐рд╡рд╕ рдХреА',
		msg:'рд╕реНрд╡рддрдВрддреНрд░рддрд╛ рджрд┐рд╡рд╕ рдХреЗ рдЕрд╡рд╕рд░ рдкрд░ рдореЗрд░реА рдУрд░ рд╕реЗ рд╡рд┐рд╢реЗрд╖ рд╢реБрднрдХрд╛рдордирд╛рдПрдБ',
		type:'рдЕрдкрдирд╛ рдирд╛рдо рдпрд╣рд╛рдВ рдЯрд╛рдЗрдк рдХрд░реЗрдВ'
	},
	2:{
		wish:"wishes you",
		ind:"Happy 74th Indepence Day",
		msg:"Here's a special wish Independence Day wish from me",
		type:"TYPE YOUR NAME HERE"
	},
	3:{
		wish:"рждрзЛржорж╛ржХрзЗ ржЕржнрж┐ржиржирзНржжржи",
		ind:"ржкржБржЪрж╛рждрзНрждрж░рзЗрж░ рж╕рзНржмрж╛ржзрзАржирждрж╛ ржжрж┐ржмрж╕рзЗрж░ ржЬржирзНржп",
		msg:"рж╕рзНржмрж╛ржзрзАржирждрж╛ ржжрж┐ржмрж╕ ржЙржкрж▓ржХрзНрж╖рзЗ ржЖржорж╛рж░ ржкржХрзНрж╖ ржерзЗржХрзЗ ржмрж┐рж╢рзЗрж╖ рж╢рзБржнрзЗржЪрзНржЫрж╛",
		type:"ржПржЦрж╛ржирзЗ ржЖржкржирж╛рж░ ржирж╛ржо ржЯрж╛ржЗржк ржХрж░рзБржи"

	},
	4:{
		wish:"рмЖрмкрмгрмЩрнНрмХрнБ рм╢рнБрмнрнЗрмЪрнНрмЫрм╛ рмЬрмгрм╛рмЙрмЫрм┐",
		ind:"рннрнк рмдрморнН рм╕рнНрм╡рм╛рмзрнАрмирмдрм╛ рмжрм┐рммрм╕ рмкрм╛рмЗрмБ",
		msg:"рм╕рнНрн▒рм╛рмзрнАрмирмдрм╛ рмжрм┐рммрм╕ рмЕрммрм╕рм░рм░рнЗ рморнЛ рмдрм░рмлрм░рнБ рммрм┐рм╢рнЗрм╖ рм╢рнБрмнрнЗрмЪрнНрмЫрм╛ |",
		type:"рмПрмарм╛рм░рнЗ рмдрнБрморм░ рмирм╛рмо рмЯрм╛рмЗрмкрнН рмХрм░ |"
	},
	5:{
		wish:"рдЖрдкрдгрд╛рд╕ рд╢реБрднреЗрдЪреНрдЫрд╛",
		ind:"74 рд╡реНрдпрд╛ рд╕реНрд╡рд╛рддрдВрддреНрд░реНрдп рджрд┐рдирд╛рд╕рд╛рдареА",
		msg:"рд╕реНрд╡рд╛рддрдВрддреНрд░реНрдп рджрд┐рдирд╛рдЪреНрдпрд╛ рдирд┐рдорд┐рддреНрддрд╛рдиреЗ рдорд╛рдЭреНрдпрд╛рдХрдбреВрди рд╡рд┐рд╢реЗрд╖ рд╢реБрднреЗрдЪреНрдЫрд╛",
		type:"рдЖрдкрд▓реЗ рдирд╛рд╡ рдпреЗрдереЗ рдЯрд╛рдЗрдк рдХрд░рд╛"
	},
	6:{
		wish:"р▓ир▓┐р▓ор▓Чр│Ж р▓╢р│Бр▓нр▓╛р▓╢р▓пр▓Чр▓│р│Б",
		ind:"74 р▓ир│З р▓╕р│Нр▓╡р▓╛р▓др▓Вр▓др│Нр▓░р│Нр▓п р▓жр▓┐р▓ир▓╛р▓Ър▓░р▓гр│Жр▓Чр▓╛р▓Чр▓┐",
		msg:"р▓╕р│Нр▓╡р▓╛р▓др▓Вр▓др│Нр▓░р│Нр▓п р▓жр▓┐р▓ир▓жр▓Вр▓жр│Б р▓ир▓ир│Нр▓ир▓┐р▓Вр▓ж р▓╡р▓┐р▓╢р│Зр▓╖ р▓╣р▓╛р▓░р│Ир▓Хр│Ж",
		type:"р▓ир▓┐р▓ор│Нр▓о р▓╣р│Жр▓╕р▓░р▓ир│Нр▓ир│Б р▓Зр▓▓р│Нр▓▓р▓┐ р▓Яр│Ир▓кр│Н р▓ор▓╛р▓бр▓┐"
	},
	7:{
		wish:"роЙроЩрпНроХро│рпБроХрпНроХрпБ ро╡ро╛ро┤рпНродрпНродрпБроХрпНроХро│рпН",
		ind:"74 ро╡родрпБ роЪрпБродроирпНродро┐ро░ родро┐ройродрпНродро┐ро▒рпНроХрпБ",
		msg:"роЪрпБродроирпНродро┐ро░ родро┐ройродрпНродрпИропрпКроЯрпНроЯро┐ роОройрпНройро┐роЯрооро┐ро░рпБроирпНродрпБ роЪро┐ро▒рокрпНрокрпБ роЖроЪрпИ",
		type:"роЙроЩрпНроХро│рпН рокрпЖропро░рпИ роЗроЩрпНроХрпЗ родроЯрпНроЯроЪрпНроЪрпБ роЪрпЖропрпНроХ"
	},
	8:{
		wish:"р░ор▒Ар░Хр▒Б р░╢р▒Бр░нр░╛р░Хр░╛р░Вр░Хр▒Нр░╖р░▓р▒Б",
		ind:"74 р░╡ р░╕р▒Нр░╡р░╛р░др░Вр░др▒Нр░░р▒Нр░п р░жр░┐р░ир▒Лр░др▒Нр░╕р░╡р░В р░Хр▒Лр░╕р░В",
		msg:"р░╕р▒Нр░╡р░╛р░др░Вр░др▒Нр░░р▒Нр░п р░жр░┐р░ир▒Лр░др▒Нр░╕р░╡р░В р░╕р░Вр░жр░░р▒Нр░нр░Вр░Чр░╛ р░ир░╛ р░ир▒Бр░Вр░бр░┐ р░кр▒Нр░░р░др▒Нр░пр▒Зр░Х р░Хр▒Лр░░р░┐р░Х",
		type:"р░ор▒А р░кр▒Зр░░р▒Бр░ир▒Б р░Зр░Хр▒Нр░Хр░б р░Яр▒Ир░кр▒Н р░Ър▒Зр░пр░Вр░бр░┐"
	}
}
const userName= document.querySelector("#userName");
const wishText = document.querySelector("#wishText");
const shareIcon = document.querySelector("#shareIcon");
const indText = document.querySelector("#ind");
const url = window.location.href;
const splits = url.split(/\?name=|&lang=/);
const languageSelect = document.querySelector('select');
const userInput = document.querySelector('input');
let language;
if(splits && splits[1]){
	const name = decodeURIComponent(splits[1]);
	setName({
		target:{
			value:decodeName(name)
		}
	})
}
else{
	hideName();
}

if(splits && splits[2]){
	language = splits[2];
}
else{
	language = 2;
}
changeLanguage({target:{value:language}});
languageSelect.value = language;

function playAudio(){
	const audio = document.querySelector('audio');
	if(audio.paused){
		audio.play();
		event.target.innerHTML = "&#128264;"
	}
	else{
		audio.pause();
		event.target.innerHTML = "&#128263;"
	}
}

function setName(e){
	if(userName.style.display == 'none'){
		showName();
	}
	const name = e.target.value;
	userName.innerHTML = name;
	const url = window.location.origin+'/independence-day';
}

function hideName() {
	userName.style.display = 'none';
	wishText.style.display = 'none';
}

function showName(){
	userName.style.display = 'inline-block';
	wishText.style.display = 'inline-block';
}

function encodeName(t){
	return t.replace(' ','-');
}

function decodeName(t){
	return t.replace('-',' ');
}

function changeLanguage(e){
	language = e.target.value;
	wishText.innerHTML = languageJson[language].wish;
	indText.innerHTML = languageJson[language].ind;
	userInput.placeholder = languageJson[language].type;
}

function share(e){
	const msg = `whatsapp://send?text=ЁЯЗоЁЯЗ│ ${languageJson[language].msg} ЁЯЗоЁЯЗ│ ${window.location.origin}/independence-day/?name=${encodeName(userInput.value)}${encodeURIComponent('&')}lang=${language}`;
	e.target.href = msg;
}