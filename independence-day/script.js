const languageJson = {
	1:{
		wish:'рдЖрдкрдХреЛ рд╢реБрднрдХрд╛рдордирд╛рдПрдВ рджреЗрддреЗ рд╣реИрдВ',
		ind:'74 рд╡реЗрдВ рд╕реНрд╡рддрдВрддреНрд░рддрд╛ рджрд┐рд╡рд╕ рдХреА',
		msg:'рд╕реНрд╡рддрдВрддреНрд░рддрд╛ рджрд┐рд╡рд╕ рдХреЗ рдЕрд╡рд╕рд░ рдкрд░ рдореЗрд░реА рдУрд░ рд╕реЗ рд╡рд┐рд╢реЗрд╖ рд╢реБрднрдХрд╛рдордирд╛рдПрдБ'
	},
	2:{
		wish:"wishes you",
		ind:"Happy 74th Indepence Day",
		msg:"Here's a special wish Independence Day wish from me"
	},
	3:{
		wish:"ржЖржкржирж╛ржХрзЗ рж╢рзБржнрзЗржЪрзНржЫрж╛ ржжрзЗржпрж╝",
		ind:"Thрзк рждржо рж╕рзНржмрж╛ржзрзАржирждрж╛ ржжрж┐ржмрж╕рзЗрж░",
		msg:"рж╕рзНржмрж╛ржзрзАржирждрж╛ ржжрж┐ржмрж╕ ржЙржкрж▓ржХрзНрж╖рзЗ ржЖржорж╛рж░ ржкржХрзНрж╖ ржерзЗржХрзЗ ржмрж┐рж╢рзЗрж╖ рж╢рзБржнрзЗржЪрзНржЫрж╛"
	},
	4:{
		wish:"рмдрнБрмормХрнБ рмЗрмЪрнНрмЫрм╛ рмжрм┐рмП |",
		ind:"74 рмдрмо рм╕рнНрн▒рм╛рмзрнАрмирмдрм╛ рмжрм┐рммрм╕рм░ |",
		msg:"рм╕рнНрн▒рм╛рмзрнАрмирмдрм╛ рмжрм┐рммрм╕ рмЕрммрм╕рм░рм░рнЗ рморнЛ рмдрм░рмлрм░рнБ рммрм┐рм╢рнЗрм╖ рм╢рнБрмнрнЗрмЪрнНрмЫрм╛ |"
	},
	5:{
		wish:"рддреБрдореНрд╣рд╛рд▓рд╛ рд╢реБрднреЗрдЪреНрдЫрд╛ рджреЗрддреЛ",
		ind:"74 рд╡реНрдпрд╛ рд╕реНрд╡рд╛рддрдВрддреНрд░реНрдп рджрд┐рдирд╛рдЪреНрдпрд╛",
		msg:"рд╕реНрд╡рд╛рддрдВрддреНрд░реНрдп рджрд┐рдирд╛рдЪреНрдпрд╛ рдирд┐рдорд┐рддреНрддрд╛рдиреЗ рдорд╛рдЭреНрдпрд╛рдХрдбреВрди рд╡рд┐рд╢реЗрд╖ рд╢реБрднреЗрдЪреНрдЫрд╛"
	},
	6:{
		wish:"р▓ир▓┐р▓ор▓Чр│Ж р▓╢р│Бр▓нр▓╛р▓╢р▓пр▓Чр▓│р▓ир│Нр▓ир│Б р▓ир│Ар▓бр│Бр▓др│Нр▓др▓жр│Ж",
		ind:"74 р▓ир│З р▓╕р│Нр▓╡р▓╛р▓др▓Вр▓др│Нр▓░р│Нр▓п р▓жр▓┐р▓и",
		msg:"р▓╕р│Нр▓╡р▓╛р▓др▓Вр▓др│Нр▓░р│Нр▓п р▓жр▓┐р▓ир▓жр▓Вр▓жр│Б р▓ир▓ир│Нр▓ир▓┐р▓Вр▓ж р▓╡р▓┐р▓╢р│Зр▓╖ р▓╣р▓╛р▓░р│Ир▓Хр│Ж"
	},
	7:{
		wish:"роЙроЩрпНроХро│рпБроХрпНроХрпБ ро╡ро┐ро░рпБрокрпНрокроЩрпНроХро│рпИродрпН родро░рпБроХро┐ро▒родрпБ",
		ind:"74 ро╡родрпБ роЪрпБродроирпНродро┐ро░ родро┐ройродрпНродро┐ро▓рпН",
		msg:"роЪрпБродроирпНродро┐ро░ родро┐ройродрпНродрпИропрпКроЯрпНроЯро┐ роОройрпНройро┐роЯрооро┐ро░рпБроирпНродрпБ роЪро┐ро▒рокрпНрокрпБ роЖроЪрпИ"
	},
	8:{
		wish:"р░ор▒Ар░Хр▒Б р░╢р▒Бр░нр░╛р░Хр░╛р░Вр░Хр▒Нр░╖р░▓р▒Б р░Зр░╕р▒Нр░др▒Бр░Вр░жр░┐",
		ind:"74 р░╡ р░╕р▒Нр░╡р░╛р░др░Вр░др▒Нр░░р▒Нр░п р░жр░┐р░ир▒Лр░др▒Нр░╕р░╡р░В",
		msg:"р░╕р▒Нр░╡р░╛р░др░Вр░др▒Нр░░р▒Нр░п р░жр░┐р░ир▒Лр░др▒Нр░╕р░╡р░В р░╕р░Вр░жр░░р▒Нр░нр░Вр░Чр░╛ р░ир░╛ р░ир▒Бр░Вр░бр░┐ р░кр▒Нр░░р░др▒Нр░пр▒Зр░Х р░Хр▒Лр░░р░┐р░Х"
	}
}
const userName= document.querySelector("#userName");
const wishText = document.querySelector("#wishText");
const shareIcon = document.querySelector("#shareIcon");
const indText = document.querySelector("#ind");
const url = window.location.href;
const splits = url.split(/\?name=|&lang=/);
const languageSelect = document.querySelector('select');
const userInput = document.querySelector('input');
let language;
if(splits && splits[1]){
	const name = decodeURIComponent(splits[1]);
	setName({
		target:{
			value:decodeName(name)
		}
	})
}
else{
	hideName();
}

if(splits && splits[2]){
	language = splits[2];
}
else{
	language = 2;
}
changeLanguage({target:{value:language}});
languageSelect.value = language;

function playAudio(){
	const audio = document.querySelector('audio');
	if(audio.paused){
		audio.play();
		event.target.className = "fa  fa-volume-up"
	}
	else{
		audio.pause();
		event.target.className = "fa  fa-volume-off"
	}
}

function setName(e){
	if(userName.style.display == 'none'){
		showName();
	}
	const name = e.target.value;
	userName.innerHTML = name;
	const url = window.location.origin+'/independence-day';
}

function hideName() {
	userName.style.display = 'none';
	wishText.style.display = 'none';
}

function showName(){
	userName.style.display = 'inline-block';
	wishText.style.display = 'inline-block';
}

function encodeName(t){
	return t.replace(' ','-');
}

function decodeName(t){
	return t.replace('-',' ');
}

function changeLanguage(e){
	language = e.target.value;
	wishText.innerHTML = languageJson[language].wish;
	indText.innerHTML = languageJson[language].ind;
}

function share(e){
	const msg = `whatsapp://send?text=ЁЯЗоЁЯЗ│ ${languageJson[language].msg} ЁЯЗоЁЯЗ│ ${window.location.origin}/independence-day/?name=${encodeName(userInput.value)}${encodeURIComponent('&')}lang=${language}`;
	e.target.href = msg;
}